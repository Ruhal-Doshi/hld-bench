key: design-twitter
title: "Design Twitter/X Timeline"
description: |
  Design the core timeline and tweet service for a social media platform
  like Twitter/X.

  The platform should support:
  - Posting tweets (text, images, videos up to 280 chars text)
  - Home timeline (fan-out on read vs fan-out on write for feed generation)
  - Following/followers relationship management
  - Retweets, likes, and replies
  - Real-time timeline updates for new tweets
  - Hashtag trending topics (computed in real-time)
  - User search and tweet search (full-text)
  - Push notifications for mentions and interactions
  - Media upload and CDN delivery
  - Tweet thread support

  Scale target: 400 million monthly active users, 500 million tweets per day,
  average user follows 200 accounts, celebrity accounts may have 50M+ followers.
constraints:
  - Home timeline must load in under 200ms (P99)
  - Celebrity tweet fan-out must not create hot partitions
  - Trending topics must reflect the last 5-minute window
  - Must handle 50x traffic spikes during breaking news events
  - Media delivery via CDN with < 100ms latency globally
tags:
  - distributed-systems
  - social-media
  - fan-out
  - caching
  - real-time
